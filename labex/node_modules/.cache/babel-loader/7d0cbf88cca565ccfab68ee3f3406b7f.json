{"ast":null,"code":"import _slicedToArray from\"C:/Users/bdsm4/OneDrive/Documentos/Curso-Labenu/Reposit\\xF3rio Pessoal Bruno-Macena/bruno-macena/labex/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import useForm from'../../hooks/useForm';import useRequestData from'../../hooks/useRequestData';import{sendApplication}from'../../services/requests';import{useState}from'react';import{useHistory}from'react-router-dom';import{goToListTripsPage}from'../../routes/coordinator';import{ApplicationScreenContainer,ButtonsContainer}from\"./styled\";import{countries}from'../../constants/countries';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ApplicationFormPage=function ApplicationFormPage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),tripId=_useState2[0],setTripId=_useState2[1];var _useForm=useForm({name:\"\",age:\"\",applicationText:\"\",profession:\"\",country:\"\"}),form=_useForm.form,onChange=_useForm.onChange,clear=_useForm.clear;var _useRequestData=useRequestData(\"/trips\",{}),_useRequestData2=_slicedToArray(_useRequestData,1),allTrips=_useRequestData2[0];var history=useHistory();var clearFields=function clearFields(){clear();setTripId(\"\");};var onClickSend=function onClickSend(e){e.preventDefault();sendApplication(form,tripId,clearFields);};var onChangeTrip=function onChangeTrip(e){setTripId(e.target.value);};var tripsOptions=allTrips.trips&&allTrips.trips.map(function(t){return/*#__PURE__*/_jsx(\"option\",{value:t.id,children:t.name},t.id);});return/*#__PURE__*/_jsxs(ApplicationScreenContainer,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Inscreva-se para uma viagem\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onClickSend,children:[/*#__PURE__*/_jsxs(\"select\",{defaultValue:\"\",onChange:onChangeTrip,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Escolha uma Viagem\"}),tripsOptions]}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Nome\",name:\"name\",value:form.name,onChange:onChange,pattern:\"^.{3,}$\",title:\"O nome deve ter no mínimo 3 caracteres\",required:true}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Idade\",type:\"number\",name:\"age\",value:form.age,onChange:onChange,required:true,min:18}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Texto de Candidatura\",name:\"applicationText\",value:form.applicationText,onChange:onChange,required:true,pattern:\"^.{30,}$\",title:\"O texto deve ter no mínimo 30 caracteres\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Profissão\",name:\"profession\",value:form.profession,onChange:onChange,required:true,pattern:\"^.{10,}$\",title:\"A profissão deve ter no mínimo 10 caracteres\"}),/*#__PURE__*/_jsxs(\"select\",{placeholder:\"País\",name:\"country\",value:form.country,onChange:onChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Escolha um Pa\\xEDs\"}),countries.map(function(country){return/*#__PURE__*/_jsx(\"option\",{value:country,children:country},country);})]}),/*#__PURE__*/_jsxs(ButtonsContainer,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return goToListTripsPage(history);},children:\"Voltar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Enviar\"})]})]})]});};export default ApplicationFormPage;","map":{"version":3,"names":["React","useForm","useRequestData","sendApplication","useState","useHistory","goToListTripsPage","ApplicationScreenContainer","ButtonsContainer","countries","ApplicationFormPage","tripId","setTripId","name","age","applicationText","profession","country","form","onChange","clear","allTrips","history","clearFields","onClickSend","e","preventDefault","onChangeTrip","target","value","tripsOptions","trips","map","t","id"],"sources":["C:/Users/bdsm4/OneDrive/Documentos/Curso-Labenu/Repositório Pessoal Bruno-Macena/bruno-macena/labex/src/pages/ApplicationFormPage/ApplicationFormPage.js"],"sourcesContent":["import React from 'react'\nimport useForm from '../../hooks/useForm'\nimport useRequestData from '../../hooks/useRequestData'\nimport { sendApplication } from '../../services/requests'\nimport { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { goToListTripsPage } from '../../routes/coordinator'\nimport { ApplicationScreenContainer, ButtonsContainer } from \"./styled\"\nimport { countries } from '../../constants/countries';\n\nconst ApplicationFormPage = () => {\n    const [tripId, setTripId] = useState(\"\")\n    const { form, onChange, clear } = useForm({ name: \"\", age: \"\", applicationText: \"\", profession: \"\", country: \"\" })\n    const [allTrips] = useRequestData(\"/trips\", {})\n    const history = useHistory()\n\n    const clearFields = () => {\n        clear()\n        setTripId(\"\")\n    }\n\n    const onClickSend = (e) => {\n        e.preventDefault()\n        sendApplication(form, tripId, clearFields)\n    }\n\n    const onChangeTrip = (e) => {\n        setTripId(e.target.value)\n    }\n\n    const tripsOptions = allTrips.trips && allTrips.trips.map((t) => {\n        return <option key={t.id} value={t.id}>{t.name}</option>\n    })\n\n    return (\n        <ApplicationScreenContainer>\n            <h1>Inscreva-se para uma viagem</h1>\n            <form onSubmit={onClickSend}>\n                <select defaultValue=\"\" onChange={onChangeTrip}>\n                    <option value=\"\" disabled>Escolha uma Viagem</option>\n                    {tripsOptions}\n                </select>\n                <input\n                    placeholder={\"Nome\"}\n                    name={\"name\"}\n                    value={form.name}\n                    onChange={onChange}\n                    pattern={\"^.{3,}$\"}\n                    title={\"O nome deve ter no mínimo 3 caracteres\"}\n                    required\n                />\n                <input\n                    placeholder={\"Idade\"}\n                    type={\"number\"}\n                    name={\"age\"}\n                    value={form.age}\n                    onChange={onChange}\n                    required\n                    min={18}\n                />\n                <input\n                    placeholder={\"Texto de Candidatura\"}\n                    name={\"applicationText\"}\n                    value={form.applicationText}\n                    onChange={onChange}\n                    required\n                    pattern={\"^.{30,}$\"}\n                    title={\"O texto deve ter no mínimo 30 caracteres\"}\n                />\n                <input\n                    placeholder={\"Profissão\"}\n                    name={\"profession\"}\n                    value={form.profession}\n                    onChange={onChange}\n                    required\n                    pattern={\"^.{10,}$\"}\n                    title={\"A profissão deve ter no mínimo 10 caracteres\"}\n                />\n                <select\n                    placeholder={\"País\"}\n                    name={\"country\"}\n                    value={form.country}\n                    onChange={onChange}\n                    required\n                >\n                    <option value={\"\"} disabled>Escolha um País</option>\n                    {countries.map((country) => {\n                        return <option value={country} key={country}>{country}</option>\n                    })}\n                </select>\n                <ButtonsContainer>\n                    <button onClick={() => goToListTripsPage(history)}>Voltar</button>\n                    <button type={\"submit\"}>Enviar</button>\n                </ButtonsContainer>\n            </form>\n        </ApplicationScreenContainer>\n    )\n}\n\nexport default ApplicationFormPage\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}