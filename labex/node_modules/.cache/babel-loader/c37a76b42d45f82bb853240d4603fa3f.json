{"ast":null,"code":"import axios from \"axios\";\nimport { BASE_URL } from '../constants/urls';\nimport { goToAdminHomePage, goToLoginPage } from '../routes/coordinator';\nexport const sendApplication = (body, tripId, clear) => {\n  axios.post(`${BASE_URL}/trips/${tripId}/apply`, body).then(() => {\n    alert(\"Aplicação enviada com sucesso!\");\n    clear();\n  }).catch(err => alert(err.response.message));\n};\nexport const login = (body, history) => {\n  axios.post(`${BASE_URL}/login`, body).then(res => {\n    localStorage.setItem(\"token\", res.data.token);\n    goToAdminHomePage(history);\n  }).catch(err => alert(err.response.data.message));\n};\nexport const logout = history => {\n  localStorage.removeItem(\"token\");\n  goToLoginPage(history);\n};\nexport const deleteTrip = (id, getTrips) => {\n  axios.delete(`${BASE_URL}/trips/${id}`, {\n    headers: {\n      auth: localStorage.getItem(\"token\")\n    }\n  }).then(() => {\n    alert(\"Viagem deletada com sucesso!\");\n    getTrips();\n  }).catch(err => alert(err.response.data.message));\n};\nexport const decideCandidate = (tripId, candidateId, decision, getTripDetails) => {\n  const body = {\n    approve: decision\n  };\n  axios.put(`${BASE_URL}/trips/${tripId}/candidates/${candidateId}/decide`, body, {\n    headers: {\n      auth: localStorage.getItem(\"token\")\n    }\n  }).then(() => {\n    alert(\"Decisão registrada com sucesso!\");\n    getTripDetails();\n  }).catch(err => alert(err.response.data.message));\n};\nexport const createTrip = (body, clear) => {\n  axios.post(`${BASE_URL}/trips`, body, {\n    headers: {\n      auth: localStorage.getItem(\"token\")\n    }\n  }).then(() => {\n    alert(\"Viagem adicionada com sucesso!\");\n    clear();\n  }).catch(err => alert(err.response.data.message));\n};","map":{"version":3,"names":["axios","BASE_URL","goToAdminHomePage","goToLoginPage","sendApplication","body","tripId","clear","post","then","alert","catch","err","response","message","login","history","res","localStorage","setItem","data","token","logout","removeItem","deleteTrip","id","getTrips","delete","headers","auth","getItem","decideCandidate","candidateId","decision","getTripDetails","approve","put","createTrip"],"sources":["C:/Users/bdsm4/OneDrive/Documentos/Curso-Labenu/Repositório Pessoal Bruno-Macena/bruno-macena/labex/src/services/requests.js"],"sourcesContent":["import axios from \"axios\"\nimport { BASE_URL } from '../constants/urls'\nimport { goToAdminHomePage, goToLoginPage } from '../routes/coordinator'\n\nexport const sendApplication = (body, tripId, clear) => {\n    axios.post(`${BASE_URL}/trips/${tripId}/apply`, body)\n        .then(() => {\n            alert(\"Aplicação enviada com sucesso!\")\n            clear()\n        })\n        .catch((err) => alert(err.response.message))\n}\n\nexport const login = (body, history) => {\n    axios.post(`${BASE_URL}/login`, body)\n        .then((res) => {\n            localStorage.setItem(\"token\", res.data.token)\n            goToAdminHomePage(history)\n        })\n        .catch((err) => alert(err.response.data.message))\n}\n\nexport const logout = (history) => {\n    localStorage.removeItem(\"token\")\n    goToLoginPage(history)\n}\n\nexport const deleteTrip = (id, getTrips) => {\n    axios.delete(`${BASE_URL}/trips/${id}`, {\n        headers: { auth: localStorage.getItem(\"token\") }\n    })\n    .then(() => {\n        alert(\"Viagem deletada com sucesso!\")\n        getTrips()\n    })\n    .catch((err) => alert(err.response.data.message))\n}\n\nexport const decideCandidate = (tripId, candidateId, decision, getTripDetails) => {\n    const body = {\n        approve: decision\n    }\n\n    axios.put(`${BASE_URL}/trips/${tripId}/candidates/${candidateId}/decide`, body, {\n        headers: {auth: localStorage.getItem(\"token\")}\n    })\n    .then(() => {\n        alert(\"Decisão registrada com sucesso!\")\n        getTripDetails()\n    })\n    .catch((err) => alert(err.response.data.message))\n}\n\nexport const createTrip = (body, clear) => {\n    axios.post(`${BASE_URL}/trips`, body, {\n        headers: {auth: localStorage.getItem(\"token\")}\n    })\n    .then(() => {\n        alert(\"Viagem adicionada com sucesso!\")\n        clear()\n    })\n    .catch((err) => alert(err.response.data.message))\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}